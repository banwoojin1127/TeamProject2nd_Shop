<style>
/* --------------------------------------------------------------------
    ìºëŸ¬ì…€ ì „ìš© ìŠ¤íƒ€ì¼ (ê°€ë¡œ í­ ë° ë†’ì´ ì¶•ì†Œ ì ìš©)
-------------------------------------------------------------------- */

/* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ (í¬ê¸°, ì •ë ¬, ë§ˆì§„) */
.g_slide_img {
    width: 200px; /* ğŸš¨ 300px -> 200px (ê°€ë¡œ ì¶•ì†Œ) */
    height: 200px; /* ğŸš¨ 300px -> 200px (ì„¸ë¡œ ì¶•ì†Œ) */
    object-fit: cover; 
    display: block; /* Flexbox ë‚´ì—ì„œ ë¸”ë¡ ìš”ì†Œë¡œ ì‚¬ìš© */
    margin-left: 0; /* ğŸš¨ 120px -> 0 (Flexbox ì¤‘ì•™ ì •ë ¬ ì‚¬ìš©) */
}

/* ìƒí’ˆëª… ìŠ¤íƒ€ì¼ (í…ìŠ¤íŠ¸, ìƒ‰ìƒ, ì˜¤ë²„í”Œë¡œìš°) */
.g_slide_item_name {
    width: 300px; /* ğŸš¨ 400px -> 300px (ê°€ë¡œ ì¶•ì†Œ) */
    text-align: left;
    margin-left: 0; /* ğŸš¨ 320px -> 0 (Flexbox ì¤‘ì•™ ì •ë ¬ ì‚¬ìš©) */
    margin-bottom: 20px; /* ğŸš¨ 67px -> 20px (ì—¬ë°± ì¡°ì •) */
    font-size: 24px; /* ğŸš¨ 30px -> 24px (ê¸€ê¼´ í¬ê¸° ì¶•ì†Œ) */
    color: white; 
    font-weight: bold;
    text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
    
    /* 2ì¤„ ì œí•œ */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ìºëŸ¬ì…€ ì•„ì´í…œ ì „ì²´ ìŠ¤íƒ€ì¼ (Flexboxë¥¼ ì‚¬ìš©í•´ ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ë¥¼ ì •ë ¬) */
.g_carousel-item-content {
    display: flex; 
    align-items: center; 
    justify-content: center; /* ğŸš¨ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
    height: 300px; /* ğŸš¨ 400px -> 250px (ì „ì²´ ë†’ì´ ì¶•ì†Œ) */
    padding: 10px; /* íŒ¨ë”©ë„ ì¶•ì†Œ */
    background-color: #aa2020;
}

/* ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.g_prev-arrow, .g_next-arrow {
    position: absolute; top: 50%; transform: translateY(-50%); z-index: 10;
    background: rgba(0, 0, 0, 0.5); color: white; border: none; padding: 10px; cursor: pointer;
    font-size: 24px; line-height: 1;
}
.g_prev-arrow { left: 0; }
.g_next-arrow { right: 0; }
</style>

<div id="recommendedSlideshow" class="main-banner carousel slide" data-bs-ride="carousel">
    
    <div class="carousel-indicators">
        {% for item in recommendations_carousel[:10] %}
        <button type="button" 
                data-bs-target="#recommendedSlideshow" 
                data-bs-slide-to="{{ loop.index0 }}" 
                class="{% if loop.first %}active{% endif %}"
                aria-current="{% if loop.first %}true{% else %}false{% endif %}"></button>
        {% endfor %}
    </div>

    <div class="carousel-inner" style="width: 100%; height: 100%;">
        {% if recommendations_carousel %}
            {% for item in recommendations_carousel %}
                {% set item_url = "/" ~ ((item['item_category'] - 9) // 10) ~ "/" ~ item['item_id'] %}
                <div class="carousel-item {% if loop.first %}active{% endif %}" style="width: 100%; height: 100%;">
                    <a href="{{ item_url }}" style="text-decoration: none; color: inherit;">
                        <div class="g_carousel-item-content">
                            {% if item.item_img.endswith(".png") %}
                                <!-- ì´ë¯¸ì§€ íŒŒì¼ë¡œ ë°›ì„ ë•Œ -->
                                <img class="g_slide_img me-3" 
                                src="{{ url_for('static', filename='img/_item/' + item['item_img']) }}" alt="{{ item['product_name'] | default('ì¶”ì²œ ìƒí’ˆ') }}">
                            {% else %}
                                <!-- ì´ë¯¸ì§€ ë§í¬ë¡œ ë°›ì„ ë•Œ -->
                                <img class="g_slide_img me-3" src="{{ item['item_img'] }}" alt="{{ item.item_name }}">
                            {% endif %} 
                            <div class="g_slide_textbox">
                                <p class="g_slide_item_name">{{ item.product_name | default('ìƒí’ˆëª… ì—†ìŒ') }}</p>
                                
                                <p style="color: white; font-size: 20px;">ê°€ê²©: {{ "{:,}".format(item.item_price) }}ì›</p>
                                <p style="color: white; font-size: 16px;">ìœ ì‚¬ ê³ ê° êµ¬ë§¤ íšŸìˆ˜: {{ item.purchase_count }}íšŒ</p>
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        {% else %}
            <div class="carousel-item active">
                <div class="g_carousel-item-content" style="background-color: #6c757d; height: 250px;">
                    <div class="carousel-caption d-block">
                        <h3 style="color: white;">ì¶”ì²œ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</h3>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>

    <button class="g_prev-arrow" data-bs-target="#recommendedSlideshow" data-bs-slide="prev">&lt;</button>
    <button class="g_next-arrow" data-bs-target="#recommendedSlideshow" data-bs-slide="next">&gt;</button>
</div>
