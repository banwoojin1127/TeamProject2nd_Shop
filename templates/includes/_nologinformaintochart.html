    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/themes/adaptive.js"></script>

    <div id="container-column" style="width:100%; height:500px; margin-bottom: 20px;"></div>

    <script>
    const column_data = {{ column_chart_data | tojson | safe }};
    const nameData = column_data[0];    // ìƒí’ˆëª…
    const rateData = column_data[1];    // ì‹¤ì œ í‰ì 
    const trustData = column_data[2];    // ì‹ ë¢° í‰ì 
    const reviewData = column_data[3];    // ë¦¬ë·°ìˆ˜

    document.addEventListener('DOMContentLoaded', function () {
        Highcharts.chart('container-column', { // 'container-column' IDì— ì°¨íŠ¸ë¥¼ ê·¸ë¦½ë‹ˆë‹¤.

            chart: {
                type: 'column',
                plotBorderWidth: 0,
                backgroundColor: 'rgba(255, 255, 255, 0.0)' // ë°°ê²½ íˆ¬ëª… ì²˜ë¦¬
            },
            
            title: {
                text: 'ğŸ“Œìƒí’ˆë³„ ì‹ ë¢° í‰ì  ë° ì‹¤ì œ í‰ì  ë¹„êµ', // ì œëª©
                align: 'left',
                style: {
                    color: '#00000',
                    fontSize: '24px'
                }
            },
            
            subtitle: {
                text: 'Trust Score vs. Item Rate',
                align: 'left'
            },
            
            legend: {
                // ë²”ë¡€ í™œì„±í™” (ì–´ë–¤ ë§‰ëŒ€ê°€ ì‹ ë¢° í‰ì ì¸ì§€, ì‹¤ì œ í‰ì ì¸ì§€ êµ¬ë¶„)
                enabled: true 
            },

            plotOptions: {
                column: {
                    // ë§‰ëŒ€ ê°„ì˜ ê°„ê²©ì„ ì¡°ì ˆí•˜ì—¬ ë¹„êµí•˜ê¸° ì‰½ê²Œ ì„¤ì •
                    pointPadding: 0.1, 
                    borderWidth: 0,
                    grouping: false
                }
            },
            
            tooltip: {
                shared: true, // íˆ´íŒì„ ê³µìœ í•˜ì—¬ ë‘ ë°ì´í„°(ì‹ ë¢°/ì‹¤ì œ í‰ì )ë¥¼ í•œ ë²ˆì— ë³´ì—¬ì¤Œ
                useHTML: true, // HTML ì‚¬ìš©ì„ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì • (ì„ íƒì‚¬í•­ì´ì§€ë§Œ ê¶Œì¥)
                
                // í¬ë§·í„°(formatter) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¤ìŠ¤í…€ HTML ë¬¸ìì—´ì„ ë°˜í™˜
                formatter: function() {
                    // this.points: shared: trueì¼ ë•Œ, ê²¹ì³ì§„ ëª¨ë“  ë°ì´í„° í¬ì¸íŠ¸ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŒ
                    const productName = this.points[0].key; // Xì¶• ì¹´í…Œê³ ë¦¬ (ìƒí’ˆëª…)
                    
                    let tooltipHtml = '<span style="font-size: 14px; font-weight: bold;">' + productName + '</span><br/>';
                    
                    // ê° ì‹œë¦¬ì¦ˆë³„ ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ìˆœíšŒí•˜ë©° ë‚´ìš©ì„ ì¶”ê°€
                    this.points.forEach(function(point) {
                        tooltipHtml += '<span style="color:' + point.color + '">\u25CF</span> ' + 
                                    point.series.name + ': <b>' + point.y + ' ì </b><br/>';
                    });
                    const pointIndex = this.points[0].point.index;
                    const reviewcnt = reviewData[pointIndex];
                    // ì—¬ê¸°ì— ì„ì˜ì˜ ì„¤ëª…ë¬¸ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
                    tooltipHtml += '<hr style="margin: 5px 0; border-top: 1px solid #ccc;"/>';
                    tooltipHtml += '<span>* ìƒí’ˆ ë¦¬ë·°ìˆ˜ (Review Count): <b>' + reviewcnt + ' ê°œ</b></span><br>';
                    
                    return tooltipHtml;
                }
            },

            // --- Xì¶•: ìƒí’ˆëª… ---
            xAxis: {
                categories: nameData, // Xì¶• ë ˆì´ë¸” (ìƒí’ˆëª…)
                title: {
                    text: 'ìƒí’ˆëª…'
                },
                labels: {
                    style: {
                        fontSize: '12px',
                        color: '#00000'
                    }
                }
            },
            
            // --- Yì¶•: í‰ì  (0.0 ~ 5.0) ---
            yAxis: {
                min: 3,
                max: 5.0, // í‰ì  ìµœëŒ€ê°’ 5.0 ê³ ì •
                title: {
                    text: 'í‰ì  (â˜…)',
                        style: {
                            color: '#00000'
                        }
                }
            },
            
            series: [{
                // ì²« ë²ˆì§¸ ì‹œë¦¬ì¦ˆ: ì‹¤ì œ í‰ì 
                name: 'ì‹¤ì œ í‰ì  (Item Rate)',
                data: rateData,
                color: '#419c72', // ì—°ë³´ë¼ìƒ‰
                pointPlacement: -0.2 // ë§‰ëŒ€ë¥¼ ì•½ê°„ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ì—¬ ê²¹ì¹˜ì§€ ì•Šê²Œ í•¨
            }, {
                // ë‘ ë²ˆì§¸ ì‹œë¦¬ì¦ˆ: ì‹ ë¢° í‰ì 
                name: 'ì‹ ë¢° í‰ì  (Trust Score)',
                data: trustData,
                color: '#D53538' // í•˜ëŠ˜ìƒ‰
            }]

        });
    });
    </script>